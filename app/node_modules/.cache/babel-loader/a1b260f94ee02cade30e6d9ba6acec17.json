{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pikma\\\\Desktop\\\\Extinguisher-frontend\\\\app\\\\src\\\\components\\\\Home\\\\Login.js\";\nimport React, { Component } from 'react';\nimport '../style/Login.css';\nimport { Auth } from 'aws-amplify';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      message: '',\n      errors: {\n        username: false,\n        password: false\n      }\n    };\n    this.messages = {\n      username_incorect: 'Name has to be longer than 10 signs and cannot contain space',\n      password_incorect: 'Password has to be longer than 8 signs'\n    };\n\n    this.formValidation = () => {\n      let username = false;\n      let password = false;\n      let correct = false;\n\n      if (this.state.username.length > 5 && this.state.username.indexOf(' ') === -1) {\n        username = true;\n      }\n\n      if (this.state.password.length > 8) {\n        password = true;\n      }\n\n      if (username && password) {\n        correct = true;\n      }\n\n      return {\n        correct,\n        username,\n        password\n      };\n    };\n\n    this.handleChange = e => {\n      const name = e.target.name;\n      this.setState({\n        [name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const validation = this.formValidation();\n      console.log(validation);\n\n      if (validation.correct) {\n        this.setState({\n          message: 'Send, please wait',\n          errors: {\n            username: false,\n            password: false\n          }\n        });\n\n        try {\n          /**await */\n          const vall = Auth.signIn(this.state.username, this.state.password);\n          console.log(vall);\n          alert(\"Logged in\");\n        } catch (e) {\n          alert(e.message);\n        }\n      } else {\n        this.setState({\n          errors: {\n            username: !validation.username,\n            password: !validation.password\n          }\n        });\n      }\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.state.message !== '') {\n      setTimeout(() => this.setState({\n        message: ''\n      }), 9000);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Username:\", React.createElement(\"input\", {\n      type: \"text\",\n      id: \"user\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), this.state.errors.username && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" \", this.messages.username_incorect)), React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Password:\", React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), this.state.errors.password && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \" \", this.messages.password_incorect)), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Confirm\")), this.state.message && React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.message));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/pikma/Desktop/Extinguisher-frontend/app/src/components/Home/Login.js"],"names":["React","Component","Auth","Login","state","username","password","message","errors","messages","username_incorect","password_incorect","formValidation","correct","length","indexOf","handleChange","e","name","target","setState","value","handleSubmit","preventDefault","validation","console","log","vall","signIn","alert","componentDidUpdate","setTimeout","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,oBAAP;AACA,SAASC,IAAT,QAAqB,aAArB;;AACA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC1BG,KAD0B,GAClB;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,QAAQ,EAAE,EAFN;AAGJC,MAAAA,OAAO,EAAE,EAHL;AAIJC,MAAAA,MAAM,EAAE;AACJH,QAAAA,QAAQ,EAAE,KADN;AAEJC,QAAAA,QAAQ,EAAE;AAFN;AAJJ,KADkB;AAAA,SAU1BG,QAV0B,GAUf;AACPC,MAAAA,iBAAiB,EAAE,8DADZ;AAEPC,MAAAA,iBAAiB,EAAE;AAFZ,KAVe;;AAAA,SAc1BC,cAd0B,GAcT,MAAM;AACnB,UAAIP,QAAQ,GAAG,KAAf;AACA,UAAIC,QAAQ,GAAG,KAAf;AACA,UAAIO,OAAO,GAAG,KAAd;;AACA,UAAI,KAAKT,KAAL,CAAWC,QAAX,CAAoBS,MAApB,GAA6B,CAA7B,IAAkC,KAAKV,KAAL,CAAWC,QAAX,CAAoBU,OAApB,CAA4B,GAA5B,MAAqC,CAAC,CAA5E,EAA+E;AAC3EV,QAAAA,QAAQ,GAAG,IAAX;AACH;;AACD,UAAI,KAAKD,KAAL,CAAWE,QAAX,CAAoBQ,MAApB,GAA6B,CAAjC,EAAoC;AAChCR,QAAAA,QAAQ,GAAG,IAAX;AACH;;AACD,UAAID,QAAQ,IAAIC,QAAhB,EAA0B;AACtBO,QAAAA,OAAO,GAAG,IAAV;AACH;;AACD,aAAQ;AACJA,QAAAA,OADI;AACKR,QAAAA,QADL;AACeC,QAAAA;AADf,OAAR;AAGH,KA9ByB;;AAAA,SA+B1BU,YA/B0B,GA+BVC,CAAD,IAAO;AAClB,YAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB;AACA,WAAKE,QAAL,CAAc;AACV,SAACF,IAAD,GAAQD,CAAC,CAACE,MAAF,CAASE;AADP,OAAd;AAGH,KApCyB;;AAAA,SAsC1BC,YAtC0B,GAsCXL,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACM,cAAF;AAEA,YAAMC,UAAU,GAAG,KAAKZ,cAAL,EAAnB;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;;AACA,UAAIA,UAAU,CAACX,OAAf,EAAwB;AACpB,aAAKO,QAAL,CAAc;AACVb,UAAAA,OAAO,EAAE,mBADC;AAEVC,UAAAA,MAAM,EAAE;AACJH,YAAAA,QAAQ,EAAE,KADN;AAEJC,YAAAA,QAAQ,EAAE;AAFN;AAFE,SAAd;;AAOA,YAAI;AACA;AACA,gBAAMqB,IAAI,GAAGzB,IAAI,CAAC0B,MAAL,CAAY,KAAKxB,KAAL,CAAWC,QAAvB,EAAiC,KAAKD,KAAL,CAAWE,QAA5C,CAAb;AACAmB,UAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAE,UAAAA,KAAK,CAAC,WAAD,CAAL;AACH,SALD,CAKE,OAAOZ,CAAP,EAAU;AACRY,UAAAA,KAAK,CAACZ,CAAC,CAACV,OAAH,CAAL;AACH;AACJ,OAhBD,MAiBK;AACD,aAAKa,QAAL,CAAc;AACVZ,UAAAA,MAAM,EAAE;AACJH,YAAAA,QAAQ,EAAE,CAACmB,UAAU,CAACnB,QADlB;AAEJC,YAAAA,QAAQ,EAAE,CAACkB,UAAU,CAAClB;AAFlB;AADE,SAAd;AAMH;AACJ,KApEyB;AAAA;;AAqE1BwB,EAAAA,kBAAkB,GAAG;AACjB,QAAI,KAAK1B,KAAL,CAAWG,OAAX,KAAuB,EAA3B,EAA+B;AAC3BwB,MAAAA,UAAU,CAAC,MAAM,KAAKX,QAAL,CAAc;AAC3Bb,QAAAA,OAAO,EAAE;AADkB,OAAd,CAAP,EAEN,IAFM,CAAV;AAGH;AACJ;;AAEDyB,EAAAA,MAAM,GAAG;AACL,WAEI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE,KAAKV,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACO;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,MAAtB;AAA6B,MAAA,IAAI,EAAC,UAAlC;AAA6C,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWC,QAA/D;AAAyE,MAAA,QAAQ,EAAE,KAAKW,YAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADP,EAEK,KAAKZ,KAAL,CAAWI,MAAX,CAAkBH,QAAlB,IAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAQ,KAAKI,QAAL,CAAcC,iBAAtB,CAFnC,CADJ,EAMI;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,EAAE,EAAC,UAA1C;AAAqD,MAAA,KAAK,EAAE,KAAKN,KAAL,CAAWE,QAAvE;AAAiF,MAAA,QAAQ,EAAE,KAAKU,YAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEK,KAAKZ,KAAL,CAAWI,MAAX,CAAkBF,QAAlB,IAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAQ,KAAKG,QAAL,CAAcE,iBAAtB,CAFnC,CANJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXJ,CADJ,EAcK,KAAKP,KAAL,CAAWG,OAAX,IAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKH,KAAL,CAAWG,OAAhB,CAd3B,CAFJ;AAoBH;;AAlGyB;;AAqG9B,eAAeJ,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport '../style/Login.css'\nimport { Auth } from 'aws-amplify'\nclass Login extends Component {\n    state = {\n        username: \"\",\n        password: \"\",\n        message: '',\n        errors: {\n            username: false,\n            password: false,\n        }\n    }\n    messages = {\n        username_incorect: 'Name has to be longer than 10 signs and cannot contain space',\n        password_incorect: 'Password has to be longer than 8 signs',\n    }\n    formValidation = () => {\n        let username = false\n        let password = false\n        let correct = false\n        if (this.state.username.length > 5 && this.state.username.indexOf(' ') === -1) {\n            username = true\n        }\n        if (this.state.password.length > 8) {\n            password = true;\n        }\n        if (username && password) {\n            correct = true\n        }\n        return ({\n            correct, username, password\n        })\n    }\n    handleChange = (e) => {\n        const name = e.target.name;\n        this.setState({\n            [name]: e.target.value\n        })\n    }\n    /**dodac async */\n    handleSubmit = e => {\n        e.preventDefault()\n\n        const validation = this.formValidation()\n        console.log(validation)\n        if (validation.correct) {\n            this.setState({\n                message: 'Send, please wait',\n                errors: {\n                    username: false,\n                    password: false,\n                }\n            })\n            try {\n                /**await */\n                const vall = Auth.signIn(this.state.username, this.state.password);\n                console.log(vall)\n                alert(\"Logged in\");\n            } catch (e) {\n                alert(e.message);\n            }\n        }\n        else {\n            this.setState({\n                errors: {\n                    username: !validation.username,\n                    password: !validation.password,\n                }\n            })\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.message !== '') {\n            setTimeout(() => this.setState({\n                message: ''\n            }), 9000);\n        }\n    }\n\n    render() {\n        return (\n\n            <div className=\"login\">\n                <form onSubmit={this.handleSubmit}>\n                    <label htmlFor=\"user\">Username:\n                           <input type=\"text\" id=\"user\" name=\"username\" value={this.state.username} onChange={this.handleChange} />\n                        {this.state.errors.username && <span> {this.messages.username_incorect}</span>}\n                    </label>\n\n                    <label htmlFor=\"password\">Password:\n                        <input type=\"password\" name=\"password\" id=\"password\" value={this.state.password} onChange={this.handleChange} />\n                        {this.state.errors.password && <span> {this.messages.password_incorect}</span>}\n                    </label>\n\n                    <button>Confirm</button>\n                </form>\n                {this.state.message && <h3>{this.state.message}</h3>}\n\n            </div>\n        );\n    }\n}\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}